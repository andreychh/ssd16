% SPDX-FileCopyrightText: Copyright (c) 2021 Yegor Bugayenko
% SPDX-License-Identifier: MIT

\documentclass{article}
\usepackage{../ssd}
\newcommand*\thetitle{Patterns}
\newcommand*\thesubtitle{Anti-Patterns and Refactoring}
\begin{document}

\plush{\innoTitlePage{6}}

\plush[2]{\pptQuote{../bibliography/book-covers/gamma1994design}{Experienced designers evidently know something inexperienced ones don't. What is it? One thing expert designers know \ul{not} to do is solve every problem from first principles. Rather, they reuse solutions that have worked for them in the past. When they find a good solution, they use it again and again. Such experience is part of what makes them experts.}{\emph{Design Patterns: Elements of Reusable Object-Oriented Software}, Erich Gamma et al.}}

\plush[2]{\pptQuote{../faces/paul-graham}{When I see patterns in my programs, I consider it a sign of trouble. The shape of a program should reflect only the problem it needs to solve. Any other regularity in the code is a sign, to me at least, that I'm using abstractions that aren't powerful enough---often that I'm generating by hand the expansions of some macro that I need to write.}{\emph{Revenge of the Nerds}, Paul Graham}}

\pptToc

\plush{\pptChapter[Patterns]{Some Patterns}}

\plush{%
  Design Patterns and Anti-Patterns, Love and Hate (2016)\par
  \pptQR{https://www.yegor256.com/2016/02/03/design-patterns-and-anti-patterns.html}\par
  36 patterns (22 anti-patterns)
}

\plush[5]{%
  \pptPinQR{https://www.yegor256.com/2015/02/26/composable-decorators.html}
  \pptSection[Decorator]{Adapter, Facade, Proxy, Decorator, Bridge}
  \pptSnippet[\footnotesize]{adapter.java}
}

\plush[5]{%
  \pptPinQR{https://www.yegor256.com/2017/08/08/raii-in-java.html}
  \pptSection[RAII]{Resource Acquisition Is Initialization (RAII)}
  \pptSnippet[\footnotesize]{raii.cpp}
}

\plush{\pptChapter[Anti]{Some Anti-Patterns}}

\plush[2]{%
  \pptSection{GOTO}
  \pptSnippet[\footnotesize]{goto.c}
}

\plush[2]{%
  \pptSection[Numbers]{Magic Numbers}
  \pptSnippet{magic.rb}
}

\plush[2]{%
  \pptBanner{Magic Numbers ... Not!}
  \pptSnippet{magic2.rb}
}

\plush[2]{%
  \pptSection[God]{God Class}
  \pptPic{0.6}{god-class}
}

\plush[2]{%
  \pptSection[Spaghetti]{Spaghetti Code}
  \pptPic{0.4}{spaghetti}
}

\plush[2]{%
  \pptSection[Lasagna]{Lasagna and Ravioli}
  \pptPic{0.3}{ravioli}
}

\plush{\pptChapter[Anti-OOP]{Anti-OOP Patterns}}

\plush[2]{%
  Anti-Patterns in OOP (2014)\par
  \pptQR{https://www.yegor256.com/2014/09/10/anti-patterns-in-oop.html}\par
  Eleven:
  NULL,
  Utility Classes,
  Mutable Objects,
  Getters and Setters,
  Data Transfer Object (DTO),
  Object-Relational Mapping (ORM),
  Singletons,
  Controllers/Managers/Validators,
  Public Static Methods,
  Class Casting,
  Traits and Mixins.
}

\plush[3]{%
  \pptPinQR{https://www.yegor256.com/2014/09/16/getters-and-setters-are-evil.html}
  \pptSection[DTO]{Data Transfer Object (DTO)}
  \pptBanner{Getters and Setters}
  \pptSnippet{dto.java}
}

\plush[3]{%
  \pptPinQR{https://www.yegor256.com/2014/05/05/oop-alternative-to-utility-classes.html}
  \pptSection[Utility]{Utility Class}
  \pptSnippet[\footnotesize]{utility.java}
}

\plush[3]{%
  \pptPinQR{https://www.yegor256.com/2016/06/27/singletons-must-die.html}
  \pptSection[Singleton]{Singleton}
  \pptSnippet{singleton.java}
}

\plush[3]{%
  \pptPinQR{https://www.yegor256.com/2014/12/01/orm-offensive-anti-pattern.html}
  \pptSection[ORM]{Object-Relational Mapping (ORM)}
  \pptSnippet{orm.java}
}

\plush{\pptChapter[Refactorings]{Some Refactorings}}

\plush[2]{\pptQuote{../bibliography/book-covers/fowler1999refactoring}{Whenever I do refactoring, the first step is always the same. I need to build a solid set of tests for that section of code. The tests are essential because even though I follow refactorings structured to avoid most of the opportunities for introducing bugs, I'm still human and still make mistakes. Thus I need solid tests.}{\emph{Refactoring: Improving the Design of Existing Code}, Martin Fowler}}

\plush[3]{%
  \pptPin{$x_{1,2} = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a}$}
  \pptBanner{Extract Method}
  \pptSnippet[\footnotesize]{extract.rb}
}

\plush{\innoBVC}

\plush{%
  \begin{multicols}{2}
    \innoBook{feathers2004working}
      {Michael Feathers}
      {Working Effectively with Legacy Code}
    \par\columnbreak
    \innoBook{fowler1999refactoring}
      {Martin Fowler}
      {Refactoring: Improving the Design of Existing Code}
  \end{multicols}
}

\plush{%
  \begin{multicols}{2}
    \innoBook{gamma1994design}
      {Erich Gamma et al.}
      {Design Patterns: Elements of Reusable Object-Oriented Software}
    \par\columnbreak
    \innoBook{meyers}
      {Scott Meyers}
      {Effective C++: 55 Specific Ways to Improve Your Programs and Designs}
  \end{multicols}
}

\plush{%
  \pptBanner{Where to publish:}
  SPLASH: ACM SIGPLAN conference on Systems, Programming, Languages, and Applications\par
  International Conference on Code Quality (ICCQ),\br
  in cooperation with ACM SIGPLAN/SIGSOFT and IEEE
}

\plush[2]{%
  \pptBanner{Call to Action:}
  In your application demonstrate the usage of 4+ design patterns.
  Also, perform 4+ refactorings, each one in its own pull request.
}

\plush[3]{%
  \pptBanner[orange]{Still unresolved issues:}
  \begin{itemize}
    \item How to \ul{prove} certain patterns are anti-patterns?
    \item How to \ul{find} methods for automated refactoring?
    \item How to \ul{guarantee} validity during refactoring?
    \item How to \ul{mine} patterns from code?
  \end{itemize}
}

\end{document}
